DROP TABLE IF EXISTS USER_ROLES;
DROP TABLE IF EXISTS SYSTEM_USER;
DROP TABLE IF EXISTS SYSTEM_ROLE;

CREATE TABLE SYSTEM_USER (
	USER_ID		 INTEGER NOT NULL,
	USER_NAME	 VARCHAR(50),
	FIRST_NM	 VARCHAR(50),
	LAST_NM	 	 VARCHAR(50),
	PASSWORD	 VARCHAR(50),
	USING_2FA	 BOOLEAN,
	OTP_CODE	VARCHAR(50),
	PRIMARY KEY(USER_ID)		
);

CREATE TABLE SYSTEM_ROLE (
	ROLE_ID		 INTEGER NOT NULL,
	ROLE_DESC	 VARCHAR(50),
	ROLE_VAL	 VARCHAR(50),
	PRIMARY KEY(ROLE_ID),
	UNIQUE(ROLE_VAL)			
);

CREATE TABLE USER_ROLES (
	USER_ID_FK		 INTEGER NOT NULL,
	ROLE_ID_FK	 	 INTEGER NOT NULL,	
	PRIMARY KEY(USER_ID_FK, ROLE_ID_FK),
	FOREIGN KEY (USER_ID_FK) REFERENCES SYSTEM_USER (USER_ID),
	FOREIGN KEY (ROLE_ID_FK) REFERENCES SYSTEM_ROLE (ROLE_ID),
);